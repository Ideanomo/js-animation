<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-16">
        <link rel="stylesheet" href="../include/style.css">
        <title>Touch Events</title>
    </head>
    <body>
        <script src="../include/utils.js"></script>
        <script>
            window.onload = function() {
                var canvas = document.createElement("canvas");
                canvas.setAttribute("height", "256");
                canvas.setAttribute("width", "256");
                canvas.setAttribute("id", "canvas");
                canvas.style.border = "1px dashed black";
                document.body.appendChild(canvas);

                var touch = utils.captureTouch(canvas);

                    function onTouchEvent(event) {
                        // Check for a touch before accessing x, y values
                        if (touch.isPressed) {
                            console.log('x: ' + touch.x + ', y: ' + touch.y);
                        } else {
                            console.log('No touch event');
                        }
                        console.log(event.type + ' ' + touch.isPressed);
                    }

                    canvas.addEventListener('touchstart', onTouchEvent, false);
                    canvas.addEventListener('touchend', onTouchEvent, false);
                    canvas.addEventListener('touchmove', onTouchEvent, false);
            }
        </script>
    </body>
</html>